<!DOCTYPE html>
<html>
<head>
    <title>Smart Home Catalog</title>
    <link rel='stylesheet' type='text/css' href='style.css'> <!-- Ensure this path is correct -->
    <style>
.nav-container {
        display: flex;
        align-items: center;
    }
    .nav-container ul {
        display: flex;
        list-style-type: none;
        margin: 0;
        padding: 0;
    }
    .nav-container ul li {
        margin-right: 20px;
    }
    .nav-container input[type="text"] {
        margin-left: auto;
        padding: 5px;
        font-size: 16px;
    }
    .autocomplete-items {
        border: 1px solid #d4d4d4;
        border-bottom: none;
        border-top: none;
        z-index: 99;
        position: absolute;
        background-color: white;
        max-height: 200px;
        overflow-y: auto;
    }
    .autocomplete-items div {
        padding: 10px;
        cursor: pointer;
    }
    .autocomplete-items div:hover {
        background-color: #e9e9e9;
    }

    .search-result-container {
        margin-top: 20px;
    }


#reviewFormOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: auto;
        }
        form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 400px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
        }
        label {
            display: block;
            margin-bottom: 10px;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        textarea {
            resize: vertical;
            height: 100px;
        }
        input[type="submit"], button {
            width: auto;
            padding: 10px 20px;
            margin-top: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        input[type="submit"] {
            background: #4CAF50;
            color: white;
        }
        button {
            background: #f44336;
            color: white;
        }
        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #333;
        }

       

        nav li {
            float: left;
        }

        nav li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        nav li a:hover {
            background-color: #111;
        }

        .hidden {
            display: none;
        }

        .postcard-container {
            display: flex;
            flex-wrap: wrap;
        }

        .postcard {
            border: 1px solid #ccc;
            border-radius: 8px;
            margin: 10px;
            padding: 10px;
            width: 200px;
            text-align: center;
        }

        .postcard img {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .postcard-content {
            padding: 10px;
        }

        .buy-now {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }

        #cart-section {
            margin: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: larger;
        }
        
.product-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}
.product-name {
    font-size: 18px;
    font-weight: bold;
}

.product-price {
    color: green;
    font-size: 16px;
}

.product-disc, .product-condition, .product-desc {
    font-size: 14px;
    margin-top: 5px;
}


    </style>
    <script>

const products = ['Ring Video Doorbell', 'Nest Hello', 'Arlo Video Doorbell', 'Eufy Video Doorbell', 'Wyze Video Doorbell', 'August Smart Lock Pro', 'Schlage Encode', 'Yale Assure Lock SL', 'Ultraloq U-Bolt Pro', 'Lockly Smart Lock', 'Amazon Echo', 'Google Home', 'Apple HomePod', 'Sonos One', 'Bose Smart Speaker', 'Philips Hue', 'LIFX Smart Bulb', 'Wyze Smart Bulb', 'Sengled Smart Bulb', 'C by GE Smart Bulb', 'Nest Thermostat', 'Ecobee Smart Thermostat', 'Honeywell Lyric', 'Emerson Sensi Touch', 'Lux Kono Smart Thermostat'];

    function autocompleteSearch(input) {
        const list = document.getElementById('autocompleteList');
        list.innerHTML = '';
        if (!input) return;
        const filteredProducts = products.filter(product => product.toLowerCase().includes(input.toLowerCase()));
        filteredProducts.forEach(product => {
            const item = document.createElement('div');
            item.innerHTML = product;
            item.onclick = () => {
                document.getElementById('searchBar').value = product;
                list.innerHTML = '';
            };
            list.appendChild(item);
        });
    }

    function performSearch() {
        const query = document.getElementById('searchBar').value;
        if (!query) return;

        const xhr = new XMLHttpRequest();
        xhr.open('GET', `/demo/search?query=${encodeURIComponent(query)}`, true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                const result = xhr.responseText;
                console.log('Search result:', result);
                document.getElementById('searchResult').innerHTML = result;
                document.getElementById('searchResult').classList.remove('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('myorders-section').classList.add('hidden');
                    document.getElementById('trending-section').classList.add('hidden');
            } else {
                alert(`Error performing search: ${xhr.status} ${xhr.statusText}`);
            }
        };
        xhr.onerror = function() {
            alert('Request failed');
        };
        xhr.send();
    }



//Mongo Db Reviewcode 
document.addEventListener('DOMContentLoaded', (event) => {
            const today = new Date().toISOString().split('T')[0];
        });

        function closeReviewForm() {
            document.getElementById('reviewFormOverlay').style.display = 'none';
        }
        function updateSliderValue(value) {
            document.getElementById('sliderValue').innerText = value;
        }

    function viewComments(productModelName, productCategory) {
    fetch(`/demo/AddReview?productModelName=${encodeURIComponent(productModelName)}&productCategory=${encodeURIComponent(productCategory)}`)
        .then(response => response.json())
        .then(data => {
            let commentsHtml = '<div style="position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background:white;padding:20px;border:1px solid #ccc;z-index:1000;width:80%;height:80%;overflow:auto;">';
            commentsHtml += '<h2>Comments for ' + productModelName + '</h2>';
            data.forEach(comment => {
                commentsHtml += '<p><strong>Product Model Name:</strong> ' + comment.productModelName + '<br>';
                commentsHtml += '<strong>Product Category:</strong> ' + comment.productCategory + '<br>';
                commentsHtml += '<strong>Product Price:</strong> ' + comment.productPrice + '<br>';
                commentsHtml += '<strong>Store ID:</strong> ' + comment.storeID + '<br>';
                commentsHtml += '<strong>Product On Sale:</strong> ' + comment.productOnSale + '<br>';
                commentsHtml += '<strong>Manufacturer Name:</strong> ' + comment.manufacturerName + '<br>';
                commentsHtml += '<strong>Manufacturer Rebate:</strong> ' + comment.manufacturerRebate + '<br>';
                commentsHtml += '<strong>User ID:</strong> ' + comment.userID + '<br>';
                commentsHtml += '<strong>User Age:</strong> ' + comment.userAge + '<br>';
                commentsHtml += '<strong>User Gender:</strong> ' + comment.userGender + '<br>';
                commentsHtml += '<strong>User Occupation:</strong> ' + comment.userOccupation + '<br>';
                commentsHtml += '<strong>Review Rating:</strong> ' + comment.reviewRating + '<br>';
                commentsHtml += '<strong>Review Date:</strong> ' + comment.reviewDate + '<br>';
                commentsHtml += '<strong>Review Text:</strong> ' + comment.reviewText + '</p><hr>';
            });
            commentsHtml += '<button onclick="closeComments()">Close</button>';
            commentsHtml += '</div>';
            let commentsDiv = document.createElement('div');
            commentsDiv.id = 'commentsDiv';
            commentsDiv.innerHTML = commentsHtml;
            document.body.appendChild(commentsDiv);
        });
}

function closeComments() {
    let commentsDiv = document.getElementById('commentsDiv');
    if (commentsDiv) {
        document.body.removeChild(commentsDiv);
    }
}
    function showReviewForm(name, price, manufacturer, category) {
    console.log('Review form called for', name, price, manufacturer); // Debug log
    // Create the review form dynamically
    var formHtml = `
    <div id="reviewFormOverlay">
        <form action='/demo/AddReview' method='post'>
            <label>ProductModelName: <input type='text' name='productModelName' value='${name}' readonly></label>
            <label>ProductCategory: <input type='text' name='productCategory' value='${category}' readonly></label>
            <label>ProductPrice: <input type='text' name='productPrice' value='${price}' readonly></label>
            <label>StoreID: 
                <select name='storeID'>
                    <option value='123 Main St, Chicago, IL, 60616'>123 Main St, Chicago, IL, 60616</option>
                    <option value='456 Oak St, Evanston, IL, 60201'>456 Oak St, Evanston, IL, 60201</option>
                    <option value='789 Pine St, Naperville, IL, 60540'>789 Pine St, Naperville, IL, 60540</option>
                    <option value='101 Maple Ave, Aurora, IL, 60505'>101 Maple Ave, Aurora, IL, 60505</option>
                    <option value='202 Elm St, Schaumburg, IL, 60173'>202 Elm St, Schaumburg, IL, 60173</option>
                </select>
            </label>
            <label>ProductOnSale: <input type='text' name='productOnSale' value='Yes' readonly></label>
            <label>ManufacturerName: <input type='text' name='manufacturerName' value='${manufacturer}' readonly></label>
            <label>ManufacturerRebate: <input type='text' name='manufacturerRebate' value='Yes' readonly></label>
            <label>UserID: <input type='text' name='userID'></label>
            <label>UserAge: <input type='number' name='userAge'></label>
            <label>UserGender: 
                <select name='userGender'>
                    <option value='male'>Male</option>
                    <option value='female'>Female</option>
                    <option value='others'>Others</option>
                </select>
            </label>
            <label>UserOccupation: <input type='text' name='userOccupation'></label>
            <label>ReviewRating: 
                <input type='range' name='reviewRating' id='reviewRating' min='1' max='5' value='3' oninput='updateSliderValue(this.value)'>
                <span id='sliderValue'>3</span>
            </label>
            <label>ReviewText: <textarea name='reviewText'></textarea></label>
            <input type='submit' value='Submit Review'>
            <button type='button' onclick='closeReviewForm()'>Cancel</button>
        </form>
    </div>
    `;

    // Check if the form HTML is being constructed properly
    console.log("Form HTML:", formHtml);

    // Create a new div element to hold the form
    var reviewDiv = document.createElement('div');
    reviewDiv.id = 'reviewFormDiv';
    reviewDiv.innerHTML = formHtml;
    
    // Append the form to the body
    document.body.appendChild(reviewDiv);
    
    // Log to confirm the form has been added to the DOM
    console.log("Form appended to the body");
}

function closeReviewForm() {
    var reviewDiv = document.getElementById('reviewFormDiv');
    if (reviewDiv) {
        document.body.removeChild(reviewDiv);
    }
}



        function showDoorbells() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'welcome', true); // Adjust if your servlet mapping is different
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('doorbell-section').innerHTML = xhr.responseText;
                    document.getElementById('doorbell-section').classList.remove('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load doorbell catalog.');
                }
            };
            xhr.send();
        }

        function showDoorLocks() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'doorlock', true); // Ensure this URL matches your servlet mapping
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('doorlock-section').innerHTML = xhr.responseText;
                    document.getElementById('doorlock-section').classList.remove('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load door lock catalog.');
                }
            };
            xhr.send();
        }

        function showWelcome() {
            document.getElementById('doorbell-section').classList.add('hidden');
            document.getElementById('doorlock-section').classList.add('hidden');
            document.getElementById('cart-section').classList.add('hidden');
            document.getElementById('smartspeaker-section').classList.add('hidden');
            document.getElementById('welcome-section').classList.remove('hidden');
            document.getElementById('smartlighting-section').classList.add('hidden');
            document.getElementById('thermostat-section').classList.add('hidden');
            document.getElementById('searchResult').classList.add('hidden');
        }

        function showSmartSpeakers() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'smartspeaker', true); // Ensure the servlet mapping matches
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('smartspeaker-section').innerHTML = xhr.responseText;
                    document.getElementById('smartspeaker-section').classList.remove('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load smart speaker catalog.');
                }
            };
            xhr.send();
        }

        function showSmartLighting() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'smartlighting', true); // Ensure this URL matches your servlet mapping
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('smartlighting-section').innerHTML = xhr.responseText;
                    document.getElementById('smartlighting-section').classList.remove('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load smart lighting catalog.');
                }
            };
            xhr.send();
        }

        function showCart() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'cart', true);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('cart-section').innerHTML = xhr.responseText;
                    document.getElementById('cart-section').classList.remove('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('myorders-section').classList.add('hidden');
                    document.getElementById('trending-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load cart.');
                }
            };
            xhr.send();
        }

        function addToCart(name, price) {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'cart', true); // Ensure this URL matches your servlet mapping
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onload = function() {
                if (xhr.status === 200) {
                    updateCart();
                } else {
                    console.error('Failed to add item to cart. Status:', xhr.status);
                }
            };
            xhr.onerror = function() {
                console.error('Request failed.');
            };
            xhr.send('action=add&name=' + encodeURIComponent(name) + '&price=' + encodeURIComponent(price));
        }

        function updateCart() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'cart', true); // Ensure this URL matches your servlet mapping
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('cart-section').innerHTML = xhr.responseText;
                } else {
                    console.error('Failed to update cart. Status:', xhr.status);
                }
            };
            xhr.onerror = function() {
                console.error('Request failed.');
            };
            xhr.send();
        }

        function showSmartThermostats() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'thermostat', true); // Ensure this URL matches your servlet mapping
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('thermostat-section').innerHTML = xhr.responseText;
                    document.getElementById('thermostat-section').classList.remove('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');
                } else {
                    console.error('Failed to load smart thermostat catalog.');
                }
            };
            xhr.send();
        }

        function logout() {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'logout', true);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    window.location.href = 'login.html'; // Redirect to login page
                } else {
                    console.error('Failed to log out.');
                }
            };
            xhr.send();
        }

        function showCheckoutForm() {
    document.getElementById('checkout-details').style.display = 'block';
    document.getElementById('checkout-form').style.display = 'none';
}

function placeOrder(event) {
    //event.preventDefault(); // Prevent the default form submission

    // Gather order details from the form
    var form = document.getElementById('checkoutForm');
    var customerName = form.customerName.value;
    var address = form.address.value;
    var zipcode = form.zipcode.value;
    var paymentMethod = form.paymentMethod.value;
    var cardNumber = form.customerName1.value; // Assuming this is the card number
    var deliveryMethod = form.deliveryMethod.value;
    var storeLocation = form.storeLocation.value;
    

    console.log(customerName, address, zipcode, paymentMethod, cardNumber, deliveryMethod, storeLocation);

    // Send the order details to the servlet
    var xhr = new XMLHttpRequest();
    xhr.open('POST', 'placeOrder', true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
        if (xhr.status === 200) {
            // Redirect to confirmation page
            window.location.href = 'order-confirmation.html';
        } else {
            console.error('Failed to place order. Status:', xhr.status);
        }
    };
    xhr.send('customerName=' + encodeURIComponent(customerName) +
              '&address=' + encodeURIComponent(address) +
              '&zipcode=' + encodeURIComponent(zipcode) +
              '&paymentMethod=' + encodeURIComponent(paymentMethod) +
              '&cardNumber=' + encodeURIComponent(cardNumber) +
              '&deliveryMethod=' + encodeURIComponent(deliveryMethod) +
              '&storeLocation=' + encodeURIComponent(storeLocation));
              
}
 

function deleteItem(itemName) {
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "cart", true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                // Update the cart with the response from the server
                document.getElementById('cart-section').innerHTML = xhr.responseText;
            }
        };

        // Send the delete action along with the item name
        xhr.send("action=delete&name=" + encodeURIComponent(itemName));
    }

    function myorders() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'myorders', true); // Adjust if your servlet mapping is different
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById('myorders-section').innerHTML = xhr.responseText;
                    document.getElementById('myorders-section').classList.remove('hidden');
                    document.getElementById('doorlock-section').classList.add('hidden');
                    document.getElementById('welcome-section').classList.add('hidden');
                    document.getElementById('smartspeaker-section').classList.add('hidden');
                    document.getElementById('cart-section').classList.add('hidden');
                    document.getElementById('smartlighting-section').classList.add('hidden');
                    document.getElementById('thermostat-section').classList.add('hidden');
                    document.getElementById('doorbell-section').classList.add('hidden');
                    document.getElementById('trending-section').classList.add('hidden');
                    document.getElementById('searchResult').classList.add('hidden');

                    
                } else {
                    console.error('Failed to load orders catalog.');
                }
            };
            xhr.send();
        }

function trending() {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'trending', true); // Adjust if your servlet mapping is different
    xhr.onload = function() {
        if (xhr.status === 200) {
            // Parse the JSON response
            var products = JSON.parse(xhr.responseText);
            var heading = '<h2>Top 5 Trending Products</h2>';
            // Create HTML structure to display products
            var trendingHTML = `   <h2><center>Top 5 Most Liked Products</center></h2>  
            <div class="postcard-container">`;
               
            products.forEach(function(product) {
                trendingHTML += `
                   
                    <div class="postcard">
                        <img src="images/${product.prod_img}" alt="${product.prod_name}" class="product-img">
                        <h2 class="product-name"> ${product.prod_name}</h2>
                        <p class="product-cat"><b>Category:</b> ${product.prod_cat}</p>
                        <p class="product-price"><b>Price:</b> $${product.prod_price}</p>
                        <p class="product-disc"><b>Discount:</b> ${product.prod_disc}%</p>
                        <p class="product-condition"><b>Condition:</b> ${product.prod_condition}</p>
                        <p class="product-desc"><b>Description:</b> ${product.prod_description || 'No description available'}</p>
                    </div>
                `;
            });
            trendingHTML += '</div>';

            // Add the section for top five zip codes
            trendingHTML += `
            <hr style="border: 2px solid #ccc; margin: 20px 0;"> <!-- Divider line -->
                <h2><center>Top Five Zip-Codes Where Maximum Number of Products Sold</center></h2>
                <center> <table border='1' style='width:20%; margin: 20px 0;'>
                    <tr style='font-size: large; background: burlywood;'>
                        <th>City</th>
                        
                        <th>Zip Code</th>
                    </tr>
                    <tr>
                        <td>Naperville, IL</td>
                        <td>60540</td>
                    </tr>
                    <tr>
                        <td>Aurora, IL</td>
                        <td>60505</td>
                    </tr>
                    <tr>
                       
                        <td>Schaumburg, IL</td>
                        <td>60173</td>
                    </tr>
                    <tr>
                        
                        <td>Chicago, IL</td>
                       
                        <td>60616</td>
                    </tr>
                    <tr>
                        <td>Champaign, IL</td>
                        <td>61820</td>
                    </tr>
                </center>
                </table>
            `;
// After displaying zip codes, add the section for top five most sold products
trendingHTML += `
    <hr style="border: 2px solid #ccc; margin: 20px 0;"> <!-- Divider line -->
    <h2><center>Top Five Most Sold Products (Regardless of Rating)</center></h2>
    <div class="postcard-container"> 
        <div class="postcard">
            <img src="images/smart-doorbell-1.jpeg" alt="Ring Video Doorbell" class="product-img">
            <div class="postcard-content">
                <h2>Ring Video Doorbell</h2>
                <p>Category: Doorbell</p>
                <p>Price: $79.9</p>
                <p>Description:A smart doorbell by Ring featuring video capability and enhanced security features.</p>
                <p>Retailer: Ring</p>
                <p>Condition: New</p>
            </div>
        </div>
        <div class="postcard">
            <img src="images/smartspeaker-1.jpeg" alt="Google Home" class="product-img">
            <div class="postcard-content">
                <h2>Google Home</h2>
                <p>Category: Speaker</p>
                <p>Price: $69.9</p>
                <p>Description: A smart speaker by Google with voice assistant and music streaming capabilities.</p>
                <p>Retailer: Google</p>
                <p>Condition: New</p>
            </div>
        </div>
        <div class="postcard">
            <img src="images/smartlight-1.jpeg" alt="Philips Hue" class="product-img">
            <div class="postcard-content">
                <h2>Philips Hue</h2>
                <p>Category: Lights</p>
                <p>Price: $50.9</p>
                <p>Description: A smart lighting system by Philips that can be controlled remotely.</p>
                <p>Retailer: Philips</p>
                <p>Condition: New</p>
            </div>
        </div>
        <div class="postcard">
            <img src="images/smart-thermostat-1.jpeg" alt="Nest Thermostat" class="product-img">
            <div class="postcard-content">
                <h2>Nest Thermostat</h2>
                <p>Category: Thermostat</p>
                <p>Price: $349.49</p>
                <p>Description: A smart thermostat by Nest that learns user preferences and adjusts temperature accordingly.</p>
                <p>Retailer: Nest</p>
                <p>Condition: New</p>
            </div>
        </div>
        <div class="postcard">
            <img src="images/smartlock-1.jpeg" alt="Schlage Encode" class="product-img">
            <div class="postcard-content">
                <h2>Schlage Encode</h2>
                <p>Category: Doorlock</p>
                <p>Price: $179.19</p>
                <p>Description: A smart door lock by Schlage that can be controlled remotely and integrated with smart home systems.</p>
                <p>Retailer: Schlage</p>
                <p>Discount: 12%</p>
                <p>Condition: New</p>
            </div>
        </div>
    </div>
`;


            // Inject the HTML into the trending section
            document.getElementById('trending-section').innerHTML = trendingHTML;
            document.getElementById('trending-section').classList.remove('hidden');
            
            // Hide other sections
            document.getElementById('doorlock-section').classList.add('hidden');
            document.getElementById('welcome-section').classList.add('hidden');
            document.getElementById('smartspeaker-section').classList.add('hidden');
            document.getElementById('cart-section').classList.add('hidden');
            document.getElementById('smartlighting-section').classList.add('hidden');
            document.getElementById('thermostat-section').classList.add('hidden');
            document.getElementById('doorbell-section').classList.add('hidden');
            document.getElementById('myorders-section').classList.add('hidden');
            document.getElementById('searchResult').classList.add('hidden');
        } else {
            console.error('Failed to load trending catalog.');
        }
    };
    xhr.send();
}

    </script>
</head>
<body>

<!-- Header -->
<header>
    <h1>Smart Homes Catalog</h1>
</header>

<!-- Navigation bar with inline styles -->
<nav>
    <div class="nav-container">
        <ul>
            <li><a href="#home" onclick="showWelcome()">Home</a></li>
            <li><a href="#doorbells" onclick="showDoorbells()">Doorbells</a></li>
            <li><a href="#doorlocks" onclick="showDoorLocks()">DoorLocks</a></li>
            <li><a href="#smartspeaker" onclick="showSmartSpeakers()">SmartSpeakers</a></li>
            <li><a href="#smartlighting" onclick="showSmartLighting()">SmartLights</a></li>
            <li><a href="#thermostats" onclick="showSmartThermostats()">SmartThermostats</a></li>
            <li><a href="#trending" onclick="trending()">TrendingProducts</a></li>
            <li><a href="#myorders" onclick="myorders()">MyOrders</a></li>
            <li><a href="#cart" onclick="showCart()">View Cart</a></li>
            <li><a href="javascript:logout()">Logout</a></li> <!-- Logout link -->
            <li>
                <div class="search-container">
                    <input type="text" id="searchBar" placeholder="Search products..." oninput="autocompleteSearch(this.value)">
                    <button id="searchButton" onclick="performSearch()"> Search
                    </button>
                </div>
        <div id="autocompleteList" class="autocomplete-items"></div></li>
            <li><a href="customerService">Customer Service</a></li>
        </ul>
    </div>
</nav>


<div id="searchResult" class="hidden">
    <!-- Search results will be displayed here -->
</div>

<!-- Welcome section -->
<div id="welcome-section" style="overflow: hidden;">
    <h1><center>Welcome to the Smart Homes Catalog</center></h1>
    <p style="font-size: 20px;">Smart homes provide ease by automating daily operations such as controlling lighting, monitoring security, and regulating temperatures via mobile applications or voice command. They increase energy efficiency, provide security with smart locks and cameras, and enable remote monitoring from anywhere. Smart homes offer a personalized, linked living experience while boosting energy savings and safety.</p>
    <center><img src="images/login-page.jpeg" alt="Smart Home Logo" style="margin-left: auto;
        margin-right: auto;
        
        display: block;"></center>
</div>

<!-- Doorbell products section (hidden initially) -->
<div id="doorbell-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>

<!-- Cart section (hidden initially) -->
<div id="cart-section" class="hidden">
    <!-- Cart content will be updated by JavaScript -->
    <!-- Checkout button -->
    <form id="checkout-form" action="cart" method="post" onsubmit="showCheckoutForm(); return false;">
        <input type="hidden" name="action" value="checkout">
        <input type="submit" value="Checkout">
    </form>

    <!-- Checkout details form (hidden by default) -->
    <div id="checkout-details" style="display: none;">
        <h2>Checkout</h2>
        <form action="cart" method="post" onsubmit="placeOrder(event);">
            <input type="hidden" name="action" value="processCheckout">
            <label for="userName">Name:</label>
            <input type="text" id="userName" name="userName" required><br>

            <label for="userName1">Card Number:</label>
            <input type="text" id="userName1" name="userName1" required><br>
            
            <label for="userAddress">Address:</label>
            <input type="text" id="userAddress" name="userAddress" required><br>
            
            <label for="userPhone">Phone Number:</label>
            <input type="tel" id="userPhone" name="userPhone" required><br>
            
            <label for="deliveryMethod">Delivery Method:</label>
            <select id="deliveryMethod" name="deliveryMethod" required>
                <option value="storePickup">Store Pickup</option>
                <option value="homeDelivery">Home Delivery</option>
            </select><br><br>
            
            <label for="paymentMethod">Payment Method:</label>
            <select id="paymentMethod" name="paymentMethod" required>
                <option value="credit">Credit Card</option>
                <option value="paypal">PayPal</option>
            </select><br><br>
            <label for="cardNumber">Card Number:</label>
            <input type="text" id="cardNumber" name="cardNumber" required><br>
            
            
            <input type="submit" value="Place Order">
        </form>
    </div>


    

    <!-- Order confirmation message (hidden by default) -->
    <div id="order-confirmation" style="display: none;">
        <h2>Order Confirmation</h2>
        <p id="confirmation-message"></p>
    </div>
</div>

<!-- Door lock products section (hidden initially) -->
<div id="doorlock-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>

<!-- Smart Speaker products section (hidden initially) -->
<div id="smartspeaker-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>

<!-- Smart Lighting products section (hidden initially) -->
<div id="smartlighting-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>

<!-- Smart Thermostat products section (hidden initially) -->
<div id="thermostat-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>



<!-- My orders section (hidden initially) -->
<div id="myorders-section" class="hidden">
    <!-- Content will be inserted here by JavaScript -->
</div>

<!--Trending section (hidden initially) -->
<div id="trending-section" class="hidden">
   <h2><center>Top 5 Trending Products </center></h2>
    <!-- Content will be inserted here by JavaScript -->
</div>

</body>
</html>